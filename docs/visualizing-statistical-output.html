<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>7 Visualizing statistical output | 7784 Skills: Programming in R</title>
  <meta name="description" content="7 Visualizing statistical output | 7784 Skills: Programming in R" />
  <meta name="generator" content="bookdown 0.15 and GitBook 2.6.7" />

  <meta property="og:title" content="7 Visualizing statistical output | 7784 Skills: Programming in R" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="7 Visualizing statistical output | 7784 Skills: Programming in R" />
  
  
  

<meta name="author" content="Kirill Müller, Christoph Sax" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="math-and-statistics.html"/>
<link rel="next" href="more-on-linear-regression.html"/>
<script src="book_assets/jquery-2.2.3/jquery.min.js"></script>
<link href="book_assets/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="book_assets/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="book_assets/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="book_assets/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="book_assets/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="book_assets/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="book_assets/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />











<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(title);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction</a><ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#using-left_join-to-join-data-sets"><i class="fa fa-check"></i><b>1.1</b> Using <code>left_join</code> to join data sets</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="visualization-and-reporting.html"><a href="visualization-and-reporting.html"><i class="fa fa-check"></i><b>2</b> Visualization and Reporting</a></li>
<li class="chapter" data-level="3" data-path="data-tranformation-i.html"><a href="data-tranformation-i.html"><i class="fa fa-check"></i><b>3</b> Data Tranformation I</a></li>
<li class="chapter" data-level="4" data-path="data-tranformation-ii.html"><a href="data-tranformation-ii.html"><i class="fa fa-check"></i><b>4</b> Data Tranformation II</a></li>
<li class="chapter" data-level="5" data-path="basics-of-r-base.html"><a href="basics-of-r-base.html"><i class="fa fa-check"></i><b>5</b> Basics of R base</a><ul>
<li class="chapter" data-level="5.1" data-path="basics-of-r-base.html"><a href="basics-of-r-base.html#the-main-data-structures"><i class="fa fa-check"></i><b>5.1</b> The Main Data Structures</a><ul>
<li class="chapter" data-level="5.1.1" data-path="basics-of-r-base.html"><a href="basics-of-r-base.html#vectors-the-r-workhorse"><i class="fa fa-check"></i><b>5.1.1</b> Vectors, the R Workhorse</a></li>
<li class="chapter" data-level="5.1.2" data-path="basics-of-r-base.html"><a href="basics-of-r-base.html#matrices"><i class="fa fa-check"></i><b>5.1.2</b> Matrices</a></li>
<li class="chapter" data-level="5.1.3" data-path="basics-of-r-base.html"><a href="basics-of-r-base.html#lists"><i class="fa fa-check"></i><b>5.1.3</b> Lists</a></li>
<li class="chapter" data-level="5.1.4" data-path="basics-of-r-base.html"><a href="basics-of-r-base.html#data-frames"><i class="fa fa-check"></i><b>5.1.4</b> Data Frames</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="basics-of-r-base.html"><a href="basics-of-r-base.html#introduction-to-functions"><i class="fa fa-check"></i><b>5.2</b> Introduction to Functions</a><ul>
<li class="chapter" data-level="5.2.1" data-path="basics-of-r-base.html"><a href="basics-of-r-base.html#variable-scope"><i class="fa fa-check"></i><b>5.2.1</b> Variable Scope</a></li>
<li class="chapter" data-level="5.2.2" data-path="basics-of-r-base.html"><a href="basics-of-r-base.html#default-arguments"><i class="fa fa-check"></i><b>5.2.2</b> Default Arguments</a></li>
<li class="chapter" data-level="5.2.3" data-path="basics-of-r-base.html"><a href="basics-of-r-base.html#exercises-3"><i class="fa fa-check"></i><b>5.2.3</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="basics-of-r-base.html"><a href="basics-of-r-base.html#higher-order-functions"><i class="fa fa-check"></i><b>5.3</b> Higher-Order Functions</a><ul>
<li class="chapter" data-level="5.3.1" data-path="basics-of-r-base.html"><a href="basics-of-r-base.html#map"><i class="fa fa-check"></i><b>5.3.1</b> <code>map</code></a></li>
<li class="chapter" data-level="5.3.2" data-path="basics-of-r-base.html"><a href="basics-of-r-base.html#loops"><i class="fa fa-check"></i><b>5.3.2</b> Loops</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="math-and-statistics.html"><a href="math-and-statistics.html"><i class="fa fa-check"></i><b>6</b> Math and Statistics</a><ul>
<li class="chapter" data-level="6.1" data-path="math-and-statistics.html"><a href="math-and-statistics.html#math"><i class="fa fa-check"></i><b>6.1</b> Math</a><ul>
<li class="chapter" data-level="6.1.1" data-path="math-and-statistics.html"><a href="math-and-statistics.html#basic-math-functions"><i class="fa fa-check"></i><b>6.1.1</b> Basic Math Functions</a></li>
<li class="chapter" data-level="6.1.2" data-path="math-and-statistics.html"><a href="math-and-statistics.html#linear-algebra-operations-on-vectors-and-matrices-optional"><i class="fa fa-check"></i><b>6.1.2</b> Linear Algebra Operations on Vectors and Matrices <em>(optional)</em></a></li>
<li class="chapter" data-level="6.1.3" data-path="math-and-statistics.html"><a href="math-and-statistics.html#statistical-distributions-optional"><i class="fa fa-check"></i><b>6.1.3</b> Statistical Distributions <em>(optional)</em></a></li>
<li class="chapter" data-level="6.1.4" data-path="math-and-statistics.html"><a href="math-and-statistics.html#set-operations-optional"><i class="fa fa-check"></i><b>6.1.4</b> Set Operations <em>(optional)</em></a></li>
<li class="chapter" data-level="6.1.5" data-path="math-and-statistics.html"><a href="math-and-statistics.html#exercises-4"><i class="fa fa-check"></i><b>6.1.5</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="math-and-statistics.html"><a href="math-and-statistics.html#linear-regression"><i class="fa fa-check"></i><b>6.2</b> Linear Regression</a><ul>
<li class="chapter" data-level="6.2.1" data-path="math-and-statistics.html"><a href="math-and-statistics.html#example-bootstrapping-standard-errors-optional"><i class="fa fa-check"></i><b>6.2.1</b> Example: Bootstrapping standard errors <em>(optional)</em></a></li>
<li class="chapter" data-level="6.2.2" data-path="math-and-statistics.html"><a href="math-and-statistics.html#factors-in-regression-models"><i class="fa fa-check"></i><b>6.2.2</b> Factors in regression models</a></li>
<li class="chapter" data-level="6.2.3" data-path="math-and-statistics.html"><a href="math-and-statistics.html#exercises-5"><i class="fa fa-check"></i><b>6.2.3</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="math-and-statistics.html"><a href="math-and-statistics.html#numerical-optimization-optional"><i class="fa fa-check"></i><b>6.3</b> Numerical Optimization <em>(optional)</em></a></li>
<li class="chapter" data-level="6.4" data-path="math-and-statistics.html"><a href="math-and-statistics.html#extended-exercises"><i class="fa fa-check"></i><b>6.4</b> Extended Exercises</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="visualizing-statistical-output.html"><a href="visualizing-statistical-output.html"><i class="fa fa-check"></i><b>7</b> Visualizing statistical output</a><ul>
<li class="chapter" data-level="7.1" data-path="visualizing-statistical-output.html"><a href="visualizing-statistical-output.html#the-broom-package"><i class="fa fa-check"></i><b>7.1</b> The broom package</a></li>
<li class="chapter" data-level="7.2" data-path="visualizing-statistical-output.html"><a href="visualizing-statistical-output.html#texreg-and-friends"><i class="fa fa-check"></i><b>7.2</b> texreg and friends</a></li>
<li class="chapter" data-level="7.3" data-path="visualizing-statistical-output.html"><a href="visualizing-statistical-output.html#from-data-frame-to-output-kable"><i class="fa fa-check"></i><b>7.3</b> From data frame to output: kable</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="more-on-linear-regression.html"><a href="more-on-linear-regression.html"><i class="fa fa-check"></i><b>8</b> More on linear regression</a><ul>
<li class="chapter" data-level="8.0.1" data-path="more-on-linear-regression.html"><a href="more-on-linear-regression.html#relationship-between-class-size-and-test-score"><i class="fa fa-check"></i><b>8.0.1</b> Relationship between class size and test score</a></li>
<li class="chapter" data-level="8.0.2" data-path="more-on-linear-regression.html"><a href="more-on-linear-regression.html#heteroskedasticity-consistent-standard-errors"><i class="fa fa-check"></i><b>8.0.2</b> Heteroskedasticity-consistent standard errors</a></li>
<li class="chapter" data-level="8.0.3" data-path="more-on-linear-regression.html"><a href="more-on-linear-regression.html#omitted-variable-bias"><i class="fa fa-check"></i><b>8.0.3</b> Omitted variable bias</a></li>
<li class="chapter" data-level="8.1" data-path="more-on-linear-regression.html"><a href="more-on-linear-regression.html#exercises-6"><i class="fa fa-check"></i><b>8.1</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="transformation-3.html"><a href="transformation-3.html"><i class="fa fa-check"></i><b>9</b> Transformation 3</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">7784 Skills: Programming in R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="visualizing-statistical-output" class="section level1">
<h1><span class="header-section-number">7</span> Visualizing statistical output</h1>
<p><a href="07-stats-tables.R">Download as R script</a></p>
<p><a href="07-statistics-2.html">Intro Slides</a></p>
<p>We had a first look at linear regression in the last lesson. Today, we are
build on it in two ways. First, we discuss some possibilities to turn
regression output into beautiful tables in your RMarkdown report. Second, we
explore extensions to the linear regression model, to make it a more powerful
and statistically accurate tool to capture linear relationships in data.</p>
<div id="the-broom-package" class="section level2">
<h2><span class="header-section-number">7.1</span> The broom package</h2>
<p>In the first few lessons of this course, through dplyr and ggplot, we
explored powerful tools to manipulate data frames. Because we are getting
good at it, we want to use this knowledge to work with regression output (or
any model output) as well. The broom package tries to help, by turning any
model output into a familiar data frame. For more information on the broom
package, check out the
<a href="https://cran.r-project.org/web/packages/broom/vignettes/broom.html">vignette</a></p>
<p>broom is an attempt to bridge the gap from untidy outputs of predictions and
estimations to the tidy data we want to work with. It centers around three
methods, each of which take common objects produced by R statistical
functions (<code>lm()</code>, <code>t.test()</code>, <code>nls()</code>, etc) and convert them into a data
frame. broom is particularly designed to work with the dplyr package.</p>
<p>broom provides three functions that do three distinct kinds of tidying.</p>
<ul>
<li><p><code>tidy</code>: constructs a data frame that summarizes the model’s statistical
findings. This includes coefficients and p-values for each term in a
regression, per-cluster information in clustering applications, or per-test
information for multtest functions.</p></li>
<li><p><code>augment</code>: add columns to the original data that was modeled. This includes
predictions, residuals, and cluster assignments.</p></li>
<li><p><code>glance</code>: construct a concise one-row summary of the model. This typically
contains values such as R^2, adjusted R^2, and residual standard error that
are computed once for the entire model.</p></li>
</ul>
<p>To see it in action, consider our simple linear regression from last lesson:</p>
<div class="sourceCode" id="cb276"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb276-1" title="1">m &lt;-<span class="st"> </span><span class="kw">lm</span>(Fertility <span class="op">~</span><span class="st"> </span>Education, <span class="dt">data =</span> swiss)</a></code></pre></div>
<p>We saw that the <code>summary()</code> function prints an overview of the regression:</p>
<div class="sourceCode" id="cb277"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb277-1" title="1"><span class="kw">summary</span>(m)</a></code></pre></div>
<pre><code>## 
## Call:
## lm(formula = Fertility ~ Education, data = swiss)
## 
## Residuals:
##     Min      1Q  Median      3Q     Max 
## -17.036  -6.711  -1.011   9.526  19.689 
## 
## Coefficients:
##             Estimate Std. Error t value Pr(&gt;|t|)    
## (Intercept)  79.6101     2.1041  37.836  &lt; 2e-16 ***
## Education    -0.8624     0.1448  -5.954 3.66e-07 ***
## ---
## Signif. codes:  0 &#39;***&#39; 0.001 &#39;**&#39; 0.01 &#39;*&#39; 0.05 &#39;.&#39; 0.1 &#39; &#39; 1
## 
## Residual standard error: 9.446 on 45 degrees of freedom
## Multiple R-squared:  0.4406, Adjusted R-squared:  0.4282 
## F-statistic: 35.45 on 1 and 45 DF,  p-value: 3.659e-07</code></pre>
<p>But this is tedious to work with. It is much easier to have the regression
output in a data frame. To extract the information on the <em>coefficients</em>, use
<code>tidy()</code>:</p>
<div class="sourceCode" id="cb279"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb279-1" title="1"><span class="kw">library</span>(broom)</a>
<a class="sourceLine" id="cb279-2" title="2"><span class="kw">tidy</span>(m)</a></code></pre></div>
<pre><code>## # A tibble: 2 x 5
##   term        estimate std.error statistic  p.value
##   &lt;chr&gt;          &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt;    &lt;dbl&gt;
## 1 (Intercept)   79.6       2.10      37.8  9.30e-36
## 2 Education     -0.862     0.145     -5.95 3.66e- 7</code></pre>
<p><code>augment()</code> returns statistical information on the <em>observations</em>, such as
resiudals and predicted values:</p>
<div class="sourceCode" id="cb281"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb281-1" title="1"><span class="kw">augment</span>(m)</a></code></pre></div>
<pre><code>## # A tibble: 47 x 10
##    .rownames Fertility Education .fitted .se.fit .resid   .hat .sigma .cooksd
##    &lt;chr&gt;         &lt;dbl&gt;     &lt;int&gt;   &lt;dbl&gt;   &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;   &lt;dbl&gt;
##  1 Courtela…      80.2        12    69.3    1.39  10.9  0.0215   9.41 1.51e-2
##  2 Delemont       83.1         9    71.8    1.41  11.3  0.0222   9.40 1.65e-2
##  3 Franches…      92.5         5    75.3    1.63  17.2  0.0297   9.18 5.23e-2
##  4 Moutier        85.8         7    73.6    1.49  12.2  0.0250   9.37 2.20e-2
##  5 Neuvevil…      76.9        15    66.7    1.50  10.2  0.0251   9.42 1.55e-2
##  6 Porrentr…      76.1         7    73.6    1.49   2.53 0.0250   9.54 9.41e-4
##  7 Broye          83.8         7    73.6    1.49  10.2  0.0250   9.42 1.54e-2
##  8 Glane          92.4         8    72.7    1.44  19.7  0.0234   9.07 5.32e-2
##  9 Gruyere        82.4         7    73.6    1.49   8.83 0.0250   9.46 1.15e-2
## 10 Sarine         82.9        13    68.4    1.41  14.5  0.0222   9.29 2.74e-2
## # … with 37 more rows, and 1 more variable: .std.resid &lt;dbl&gt;</code></pre>
<p>Finally <code>glance()</code> returns summary statistics that are valid for the
regression model:</p>
<div class="sourceCode" id="cb283"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb283-1" title="1"><span class="kw">glance</span>(m)</a></code></pre></div>
<pre><code>## # A tibble: 1 x 11
##   r.squared adj.r.squared sigma statistic p.value    df logLik   AIC   BIC
##       &lt;dbl&gt;         &lt;dbl&gt; &lt;dbl&gt;     &lt;dbl&gt;   &lt;dbl&gt; &lt;int&gt;  &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;
## 1     0.441         0.428  9.45      35.4 3.66e-7     2  -171.  348.  354.
## # … with 2 more variables: deviance &lt;dbl&gt;, df.residual &lt;int&gt;</code></pre>
</div>
<div id="texreg-and-friends" class="section level2">
<h2><span class="header-section-number">7.2</span> texreg and friends</h2>
<p>Publications in Economics usually require regression outputs to be in a
specific form. The <em>texreg</em> package gives you professional regression output
for publications out-of-the box.
(There is an alternative solution,
<a href="https://cran.r-project.org/web/packages/stargazer/index.html">stargazer</a>,
but its output has some flaws, especially when used in the PDF mode. E.g.,
it does not support the LaTeX booktab package.)</p>
<p>For a quick demonstration, consider two competing models:</p>
<div class="sourceCode" id="cb285"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb285-1" title="1">m1 &lt;-<span class="st"> </span><span class="kw">lm</span>(Fertility <span class="op">~</span><span class="st"> </span>Education, <span class="dt">data =</span> swiss)</a>
<a class="sourceLine" id="cb285-2" title="2">m2 &lt;-<span class="st"> </span><span class="kw">lm</span>(Fertility <span class="op">~</span><span class="st"> </span>Education <span class="op">+</span><span class="st"> </span>Agriculture <span class="op">+</span><span class="st"> </span>Examination, <span class="dt">data =</span> swiss)</a>
<a class="sourceLine" id="cb285-3" title="3">m3 &lt;-<span class="st"> </span><span class="kw">lm</span>(Fertility <span class="op">~</span><span class="st"> </span>Agriculture <span class="op">+</span><span class="st"> </span>Examination, <span class="dt">data =</span> swiss)</a></code></pre></div>
<p>Wrap the model in a <code>list()</code> and pass them to <code>texreg()</code> (if you want to
produces a PDF) or to <code>htmlreg()</code> (if you want to produces a HTML document).</p>
<div class="sourceCode" id="cb286"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb286-1" title="1"><span class="kw">library</span>(texreg)</a>
<a class="sourceLine" id="cb286-2" title="2"><span class="kw">htmlreg</span>(<span class="kw">list</span>(m1, m2, m3), <span class="dt">doctype =</span> <span class="ot">FALSE</span>, <span class="dt">star.symbol =</span> <span class="st">&quot;</span><span class="ch">\\</span><span class="st">*&quot;</span>)</a></code></pre></div>
<table cellspacing="0" align="center" style="border: none;">
<caption align="bottom" style="margin-top:0.3em;">
Statistical models
</caption>
<tr>
<th style="text-align: left; border-top: 2px solid black; border-bottom: 1px solid black; padding-right: 12px;">
<b></b>
</th>
<th style="text-align: left; border-top: 2px solid black; border-bottom: 1px solid black; padding-right: 12px;">
<b>Model 1</b>
</th>
<th style="text-align: left; border-top: 2px solid black; border-bottom: 1px solid black; padding-right: 12px;">
<b>Model 2</b>
</th>
<th style="text-align: left; border-top: 2px solid black; border-bottom: 1px solid black; padding-right: 12px;">
<b>Model 3</b>
</th>
</tr>
<tr>
<td style="padding-right: 12px; border: none;">
(Intercept)
</td>
<td style="padding-right: 12px; border: none;">
79.61<sup style="vertical-align: 0px;">***</sup>
</td>
<td style="padding-right: 12px; border: none;">
99.80<sup style="vertical-align: 0px;">***</sup>
</td>
<td style="padding-right: 12px; border: none;">
94.61<sup style="vertical-align: 0px;">***</sup>
</td>
</tr>
<tr>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
(2.10)
</td>
<td style="padding-right: 12px; border: none;">
(7.16)
</td>
<td style="padding-right: 12px; border: none;">
(7.83)
</td>
</tr>
<tr>
<td style="padding-right: 12px; border: none;">
Education
</td>
<td style="padding-right: 12px; border: none;">
-0.86<sup style="vertical-align: 0px;">***</sup>
</td>
<td style="padding-right: 12px; border: none;">
-0.67<sup style="vertical-align: 0px;">**</sup>
</td>
<td style="padding-right: 12px; border: none;">
</td>
</tr>
<tr>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
(0.14)
</td>
<td style="padding-right: 12px; border: none;">
(0.19)
</td>
<td style="padding-right: 12px; border: none;">
</td>
</tr>
<tr>
<td style="padding-right: 12px; border: none;">
Agriculture
</td>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
-0.18<sup style="vertical-align: 0px;">*</sup>
</td>
<td style="padding-right: 12px; border: none;">
-0.09
</td>
</tr>
<tr>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
(0.08)
</td>
<td style="padding-right: 12px; border: none;">
(0.09)
</td>
</tr>
<tr>
<td style="padding-right: 12px; border: none;">
Examination
</td>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
-0.80<sup style="vertical-align: 0px;">**</sup>
</td>
<td style="padding-right: 12px; border: none;">
-1.20<sup style="vertical-align: 0px;">***</sup>
</td>
</tr>
<tr>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
(0.25)
</td>
<td style="padding-right: 12px; border: none;">
(0.24)
</td>
</tr>
<tr>
<td style="border-top: 1px solid black;">
R<sup style="vertical-align: 0px;">2</sup>
</td>
<td style="border-top: 1px solid black;">
0.44
</td>
<td style="border-top: 1px solid black;">
0.56
</td>
<td style="border-top: 1px solid black;">
0.43
</td>
</tr>
<tr>
<td style="padding-right: 12px; border: none;">
Adj. R<sup style="vertical-align: 0px;">2</sup>
</td>
<td style="padding-right: 12px; border: none;">
0.43
</td>
<td style="padding-right: 12px; border: none;">
0.53
</td>
<td style="padding-right: 12px; border: none;">
0.41
</td>
</tr>
<tr>
<td style="padding-right: 12px; border: none;">
Num. obs.
</td>
<td style="padding-right: 12px; border: none;">
47
</td>
<td style="padding-right: 12px; border: none;">
47
</td>
<td style="padding-right: 12px; border: none;">
47
</td>
</tr>
<tr>
<td style="border-bottom: 2px solid black;">
RMSE
</td>
<td style="border-bottom: 2px solid black;">
9.45
</td>
<td style="border-bottom: 2px solid black;">
8.60
</td>
<td style="border-bottom: 2px solid black;">
9.62
</td>
</tr>
<tr>
<td style="padding-right: 12px; border: none;" colspan="5">
<span style="font-size:0.8em"><sup style="vertical-align: 0px;">***</sup>p &lt; 0.001, <sup style="vertical-align: 0px;">**</sup>p &lt; 0.01, <sup style="vertical-align: 0px;">*</sup>p &lt; 0.05</span>
</td>
</tr>
</table>
<p>Like with any table output, make sure you add the chunk option <code>results = 'asis'</code>. This ensures that the code produced by your function (HTML or TeX)
is interpreted as it is, not not simply printed.
<code>doctype = FALSE</code> and <code>star.symbol = "\\*"</code> are two fixes needed if HTML
content is used within RMarkdown.
There is also a version than produces a text version of the output, which is
useful for quick interactive exploration of the table:</p>
<div class="sourceCode" id="cb287"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb287-1" title="1"><span class="kw">screenreg</span>(<span class="kw">list</span>(m1, m2, m3))</a></code></pre></div>
<pre><code>## 
## ============================================
##              Model 1    Model 2    Model 3  
## --------------------------------------------
## (Intercept)  79.61 ***  99.80 ***  94.61 ***
##              (2.10)     (7.16)     (7.83)   
## Education    -0.86 ***  -0.67 **            
##              (0.14)     (0.19)              
## Agriculture             -0.18 *    -0.09    
##                         (0.08)     (0.09)   
## Examination             -0.80 **   -1.20 ***
##                         (0.25)     (0.24)   
## --------------------------------------------
## R^2           0.44       0.56       0.43    
## Adj. R^2      0.43       0.53       0.41    
## Num. obs.    47         47         47       
## RMSE          9.45       8.60       9.62    
## ============================================
## *** p &lt; 0.001, ** p &lt; 0.01, * p &lt; 0.05</code></pre>
<p>You can give the models a customized name:</p>
<div class="sourceCode" id="cb289"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb289-1" title="1"><span class="kw">htmlreg</span>(</a>
<a class="sourceLine" id="cb289-2" title="2">  <span class="kw">list</span>(<span class="st">`</span><span class="dt">(1)</span><span class="st">`</span> =<span class="st"> </span>m1, <span class="st">`</span><span class="dt">(2)</span><span class="st">`</span> =<span class="st"> </span>m2, <span class="st">`</span><span class="dt">(3)</span><span class="st">`</span> =<span class="st"> </span>m3),</a>
<a class="sourceLine" id="cb289-3" title="3">  <span class="dt">doctype =</span> <span class="ot">FALSE</span>, <span class="dt">star.symbol =</span> <span class="st">&quot;</span><span class="ch">\\</span><span class="st">*&quot;</span></a>
<a class="sourceLine" id="cb289-4" title="4">)</a></code></pre></div>
<table cellspacing="0" align="center" style="border: none;">
<caption align="bottom" style="margin-top:0.3em;">
Statistical models
</caption>
<tr>
<th style="text-align: left; border-top: 2px solid black; border-bottom: 1px solid black; padding-right: 12px;">
<b></b>
</th>
<th style="text-align: left; border-top: 2px solid black; border-bottom: 1px solid black; padding-right: 12px;">
<b>(1)</b>
</th>
<th style="text-align: left; border-top: 2px solid black; border-bottom: 1px solid black; padding-right: 12px;">
<b>(2)</b>
</th>
<th style="text-align: left; border-top: 2px solid black; border-bottom: 1px solid black; padding-right: 12px;">
<b>(3)</b>
</th>
</tr>
<tr>
<td style="padding-right: 12px; border: none;">
(Intercept)
</td>
<td style="padding-right: 12px; border: none;">
79.61<sup style="vertical-align: 0px;">***</sup>
</td>
<td style="padding-right: 12px; border: none;">
99.80<sup style="vertical-align: 0px;">***</sup>
</td>
<td style="padding-right: 12px; border: none;">
94.61<sup style="vertical-align: 0px;">***</sup>
</td>
</tr>
<tr>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
(2.10)
</td>
<td style="padding-right: 12px; border: none;">
(7.16)
</td>
<td style="padding-right: 12px; border: none;">
(7.83)
</td>
</tr>
<tr>
<td style="padding-right: 12px; border: none;">
Education
</td>
<td style="padding-right: 12px; border: none;">
-0.86<sup style="vertical-align: 0px;">***</sup>
</td>
<td style="padding-right: 12px; border: none;">
-0.67<sup style="vertical-align: 0px;">**</sup>
</td>
<td style="padding-right: 12px; border: none;">
</td>
</tr>
<tr>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
(0.14)
</td>
<td style="padding-right: 12px; border: none;">
(0.19)
</td>
<td style="padding-right: 12px; border: none;">
</td>
</tr>
<tr>
<td style="padding-right: 12px; border: none;">
Agriculture
</td>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
-0.18<sup style="vertical-align: 0px;">*</sup>
</td>
<td style="padding-right: 12px; border: none;">
-0.09
</td>
</tr>
<tr>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
(0.08)
</td>
<td style="padding-right: 12px; border: none;">
(0.09)
</td>
</tr>
<tr>
<td style="padding-right: 12px; border: none;">
Examination
</td>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
-0.80<sup style="vertical-align: 0px;">**</sup>
</td>
<td style="padding-right: 12px; border: none;">
-1.20<sup style="vertical-align: 0px;">***</sup>
</td>
</tr>
<tr>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
</td>
<td style="padding-right: 12px; border: none;">
(0.25)
</td>
<td style="padding-right: 12px; border: none;">
(0.24)
</td>
</tr>
<tr>
<td style="border-top: 1px solid black;">
R<sup style="vertical-align: 0px;">2</sup>
</td>
<td style="border-top: 1px solid black;">
0.44
</td>
<td style="border-top: 1px solid black;">
0.56
</td>
<td style="border-top: 1px solid black;">
0.43
</td>
</tr>
<tr>
<td style="padding-right: 12px; border: none;">
Adj. R<sup style="vertical-align: 0px;">2</sup>
</td>
<td style="padding-right: 12px; border: none;">
0.43
</td>
<td style="padding-right: 12px; border: none;">
0.53
</td>
<td style="padding-right: 12px; border: none;">
0.41
</td>
</tr>
<tr>
<td style="padding-right: 12px; border: none;">
Num. obs.
</td>
<td style="padding-right: 12px; border: none;">
47
</td>
<td style="padding-right: 12px; border: none;">
47
</td>
<td style="padding-right: 12px; border: none;">
47
</td>
</tr>
<tr>
<td style="border-bottom: 2px solid black;">
RMSE
</td>
<td style="border-bottom: 2px solid black;">
9.45
</td>
<td style="border-bottom: 2px solid black;">
8.60
</td>
<td style="border-bottom: 2px solid black;">
9.62
</td>
</tr>
<tr>
<td style="padding-right: 12px; border: none;" colspan="5">
<span style="font-size:0.8em"><sup style="vertical-align: 0px;">***</sup>p &lt; 0.001, <sup style="vertical-align: 0px;">**</sup>p &lt; 0.01, <sup style="vertical-align: 0px;">*</sup>p &lt; 0.05</span>
</td>
</tr>
</table>
<p>texreg shines when it comes to LaTeX tables, which are often used in
publications. The following line will produce the LaTeX table below</p>
<div class="sourceCode" id="cb290"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb290-1" title="1"><span class="kw">texreg</span>(<span class="kw">list</span>(<span class="st">`</span><span class="dt">(1)</span><span class="st">`</span> =<span class="st"> </span>m1, <span class="st">`</span><span class="dt">(2)</span><span class="st">`</span> =<span class="st"> </span>m2, <span class="st">`</span><span class="dt">(3)</span><span class="st">`</span> =<span class="st"> </span>m3), <span class="dt">booktabs =</span> <span class="ot">TRUE</span>, <span class="dt">dcolumn =</span> <span class="ot">TRUE</span>)</a></code></pre></div>
<p><img src="img/texreg-pdf.png" /></p>
<p>However, because we are using the LaTeX packages <code>booktabs</code> (for nicer lines)
and <code>dcolumn</code> (for aligned numbers), we need to load these first and adjust
the YAML header as follows:</p>
<div class="sourceCode" id="cb291"><pre class="sourceCode yaml"><code class="sourceCode yaml"><a class="sourceLine" id="cb291-1" title="1"><span class="ot">---</span></a>
<a class="sourceLine" id="cb291-2" title="2"><span class="fu">output:</span><span class="at"> pdf_document</span></a>
<a class="sourceLine" id="cb291-3" title="3"><span class="fu">header-includes:</span></a>
<a class="sourceLine" id="cb291-4" title="4">  <span class="kw">-</span> \usepackage<span class="kw">{</span>booktabs<span class="kw">}</span></a>
<a class="sourceLine" id="cb291-5" title="5">  <span class="kw">-</span> \usepackage<span class="kw">{</span>dcolumn<span class="kw">}</span></a>
<a class="sourceLine" id="cb291-6" title="6"><span class="ot">---</span></a></code></pre></div>
</div>
<div id="from-data-frame-to-output-kable" class="section level2">
<h2><span class="header-section-number">7.3</span> From data frame to output: kable</h2>
<p>Including any kind of table in a RMarkdown document can be done with the
kable package. The kable package is super simple but sufficient in most
cases, so there is rearely a need to switch to more extensive package like
<code>gt</code> or <code>xtable</code>. Contrary to texreg, kable is smart enough to see if we want
to produce a PDF or a HTML document. To produce a simple table, just write
<code>kable()</code> around a data frame:</p>
<div class="sourceCode" id="cb292"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb292-1" title="1"><span class="kw">kable</span>(iris[<span class="dv">1</span><span class="op">:</span><span class="dv">5</span>,])</a></code></pre></div>
<table>
<thead>
<tr class="header">
<th align="right">Sepal.Length</th>
<th align="right">Sepal.Width</th>
<th align="right">Petal.Length</th>
<th align="right">Petal.Width</th>
<th align="left">Species</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">5.1</td>
<td align="right">3.5</td>
<td align="right">1.4</td>
<td align="right">0.2</td>
<td align="left">setosa</td>
</tr>
<tr class="even">
<td align="right">4.9</td>
<td align="right">3.0</td>
<td align="right">1.4</td>
<td align="right">0.2</td>
<td align="left">setosa</td>
</tr>
<tr class="odd">
<td align="right">4.7</td>
<td align="right">3.2</td>
<td align="right">1.3</td>
<td align="right">0.2</td>
<td align="left">setosa</td>
</tr>
<tr class="even">
<td align="right">4.6</td>
<td align="right">3.1</td>
<td align="right">1.5</td>
<td align="right">0.2</td>
<td align="left">setosa</td>
</tr>
<tr class="odd">
<td align="right">5.0</td>
<td align="right">3.6</td>
<td align="right">1.4</td>
<td align="right">0.2</td>
<td align="left">setosa</td>
</tr>
</tbody>
</table>
<p>In a PDF, the output looks like the following:</p>
<p><img src="img/kable-pdf.png" /></p>
<p>Customization can be done through the <a href="https://haozhu233.github.io/kableExtra/">kableExtra
package</a> but the details differ for
<a href="https://haozhu233.github.io/kableExtra/awesome_table_in_html.html">HTML</a> and
<a href="https://haozhu233.github.io/kableExtra/awesome_table_in_pdf.pdf">PDF</a>. We
won’t cover them here, but both are useful sources for documentation to style
your tables according to your needs.</p>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="math-and-statistics.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="more-on-linear-regression.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="book_assets/gitbook-2.6.7/js/app.min.js"></script>
<script src="book_assets/gitbook-2.6.7/js/lunr.js"></script>
<script src="book_assets/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="book_assets/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="book_assets/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="book_assets/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="book_assets/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="book_assets/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="book_assets/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": null,
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
