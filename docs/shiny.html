<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>12 Shiny | 7784 Skills: Programming in R</title>
  <meta name="description" content="12 Shiny | 7784 Skills: Programming in R" />
  <meta name="generator" content="bookdown 0.16 and GitBook 2.6.7" />

  <meta property="og:title" content="12 Shiny | 7784 Skills: Programming in R" />
  <meta property="og:type" content="book" />
  
  
  
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="12 Shiny | 7784 Skills: Programming in R" />
  
  
  

<meta name="author" content="Kirill Müller, Christoph Sax" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="data-transformation-4.html"/>

<script src="book_assets/jquery-2.2.3/jquery.min.js"></script>
<link href="book_assets/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="book_assets/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="book_assets/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="book_assets/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="book_assets/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="book_assets/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="book_assets/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />











<style type="text/css">
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
  { position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
  { content: attr(data-line-number);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; pointer-events: all; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {  }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction</a></li>
<li class="chapter" data-level="2" data-path="visualization-and-reporting.html"><a href="visualization-and-reporting.html"><i class="fa fa-check"></i><b>2</b> Visualization and Reporting</a></li>
<li class="chapter" data-level="3" data-path="data-tranformation-i.html"><a href="data-tranformation-i.html"><i class="fa fa-check"></i><b>3</b> Data Tranformation I</a></li>
<li class="chapter" data-level="4" data-path="data-tranformation-ii.html"><a href="data-tranformation-ii.html"><i class="fa fa-check"></i><b>4</b> Data Tranformation II</a></li>
<li class="chapter" data-level="5" data-path="basics-of-r-base.html"><a href="basics-of-r-base.html"><i class="fa fa-check"></i><b>5</b> Basics of R base</a><ul>
<li class="chapter" data-level="5.1" data-path="basics-of-r-base.html"><a href="basics-of-r-base.html#the-main-data-structures"><i class="fa fa-check"></i><b>5.1</b> The Main Data Structures</a><ul>
<li class="chapter" data-level="5.1.1" data-path="basics-of-r-base.html"><a href="basics-of-r-base.html#vectors-the-r-workhorse"><i class="fa fa-check"></i><b>5.1.1</b> Vectors, the R Workhorse</a></li>
<li class="chapter" data-level="5.1.2" data-path="basics-of-r-base.html"><a href="basics-of-r-base.html#matrices"><i class="fa fa-check"></i><b>5.1.2</b> Matrices</a></li>
<li class="chapter" data-level="5.1.3" data-path="basics-of-r-base.html"><a href="basics-of-r-base.html#lists"><i class="fa fa-check"></i><b>5.1.3</b> Lists</a></li>
<li class="chapter" data-level="5.1.4" data-path="basics-of-r-base.html"><a href="basics-of-r-base.html#data-frames"><i class="fa fa-check"></i><b>5.1.4</b> Data Frames</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="basics-of-r-base.html"><a href="basics-of-r-base.html#introduction-to-functions"><i class="fa fa-check"></i><b>5.2</b> Introduction to Functions</a><ul>
<li class="chapter" data-level="5.2.1" data-path="basics-of-r-base.html"><a href="basics-of-r-base.html#variable-scope"><i class="fa fa-check"></i><b>5.2.1</b> Variable Scope</a></li>
<li class="chapter" data-level="5.2.2" data-path="basics-of-r-base.html"><a href="basics-of-r-base.html#default-arguments"><i class="fa fa-check"></i><b>5.2.2</b> Default Arguments</a></li>
<li class="chapter" data-level="5.2.3" data-path="basics-of-r-base.html"><a href="basics-of-r-base.html#exercises-3"><i class="fa fa-check"></i><b>5.2.3</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="basics-of-r-base.html"><a href="basics-of-r-base.html#higher-order-functions"><i class="fa fa-check"></i><b>5.3</b> Higher-Order Functions</a><ul>
<li class="chapter" data-level="5.3.1" data-path="basics-of-r-base.html"><a href="basics-of-r-base.html#map"><i class="fa fa-check"></i><b>5.3.1</b> <code>map</code></a></li>
<li class="chapter" data-level="5.3.2" data-path="basics-of-r-base.html"><a href="basics-of-r-base.html#loops"><i class="fa fa-check"></i><b>5.3.2</b> Loops</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="math-and-statistics.html"><a href="math-and-statistics.html"><i class="fa fa-check"></i><b>6</b> Math and Statistics</a><ul>
<li class="chapter" data-level="6.1" data-path="math-and-statistics.html"><a href="math-and-statistics.html#math"><i class="fa fa-check"></i><b>6.1</b> Math</a><ul>
<li class="chapter" data-level="6.1.1" data-path="math-and-statistics.html"><a href="math-and-statistics.html#basic-math-functions"><i class="fa fa-check"></i><b>6.1.1</b> Basic Math Functions</a></li>
<li class="chapter" data-level="6.1.2" data-path="math-and-statistics.html"><a href="math-and-statistics.html#linear-algebra-operations-on-vectors-and-matrices-optional"><i class="fa fa-check"></i><b>6.1.2</b> Linear Algebra Operations on Vectors and Matrices <em>(optional)</em></a></li>
<li class="chapter" data-level="6.1.3" data-path="math-and-statistics.html"><a href="math-and-statistics.html#statistical-distributions-optional"><i class="fa fa-check"></i><b>6.1.3</b> Statistical Distributions <em>(optional)</em></a></li>
<li class="chapter" data-level="6.1.4" data-path="math-and-statistics.html"><a href="math-and-statistics.html#set-operations-optional"><i class="fa fa-check"></i><b>6.1.4</b> Set Operations <em>(optional)</em></a></li>
<li class="chapter" data-level="6.1.5" data-path="math-and-statistics.html"><a href="math-and-statistics.html#exercises-4"><i class="fa fa-check"></i><b>6.1.5</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="math-and-statistics.html"><a href="math-and-statistics.html#linear-regression"><i class="fa fa-check"></i><b>6.2</b> Linear Regression</a><ul>
<li class="chapter" data-level="6.2.1" data-path="math-and-statistics.html"><a href="math-and-statistics.html#example-bootstrapping-standard-errors-optional"><i class="fa fa-check"></i><b>6.2.1</b> Example: Bootstrapping standard errors <em>(optional)</em></a></li>
<li class="chapter" data-level="6.2.2" data-path="math-and-statistics.html"><a href="math-and-statistics.html#factors-in-regression-models"><i class="fa fa-check"></i><b>6.2.2</b> Factors in regression models</a></li>
<li class="chapter" data-level="6.2.3" data-path="math-and-statistics.html"><a href="math-and-statistics.html#exercises-5"><i class="fa fa-check"></i><b>6.2.3</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="math-and-statistics.html"><a href="math-and-statistics.html#numerical-optimization-optional"><i class="fa fa-check"></i><b>6.3</b> Numerical Optimization <em>(optional)</em></a></li>
<li class="chapter" data-level="6.4" data-path="math-and-statistics.html"><a href="math-and-statistics.html#extended-exercises"><i class="fa fa-check"></i><b>6.4</b> Extended Exercises</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="regression-and-visualization.html"><a href="regression-and-visualization.html"><i class="fa fa-check"></i><b>7</b> Regression and Visualization</a><ul>
<li class="chapter" data-level="7.1" data-path="regression-and-visualization.html"><a href="regression-and-visualization.html#the-broom-package"><i class="fa fa-check"></i><b>7.1</b> The broom package</a></li>
<li class="chapter" data-level="7.2" data-path="regression-and-visualization.html"><a href="regression-and-visualization.html#texreg-and-friends"><i class="fa fa-check"></i><b>7.2</b> texreg and friends</a></li>
<li class="chapter" data-level="7.3" data-path="regression-and-visualization.html"><a href="regression-and-visualization.html#from-data-frame-to-output-kable"><i class="fa fa-check"></i><b>7.3</b> From data frame to output: kable</a></li>
<li class="chapter" data-level="7.4" data-path="regression-and-visualization.html"><a href="regression-and-visualization.html#more-on-linear-regression"><i class="fa fa-check"></i><b>7.4</b> More on linear regression</a><ul>
<li class="chapter" data-level="7.4.1" data-path="regression-and-visualization.html"><a href="regression-and-visualization.html#relationship-between-class-size-and-test-score"><i class="fa fa-check"></i><b>7.4.1</b> Relationship between class size and test score</a></li>
<li class="chapter" data-level="7.4.2" data-path="regression-and-visualization.html"><a href="regression-and-visualization.html#heteroskedasticity-consistent-standard-errors"><i class="fa fa-check"></i><b>7.4.2</b> Heteroskedasticity-consistent standard errors</a></li>
<li class="chapter" data-level="7.4.3" data-path="regression-and-visualization.html"><a href="regression-and-visualization.html#omitted-variable-bias"><i class="fa fa-check"></i><b>7.4.3</b> Omitted variable bias</a></li>
</ul></li>
<li class="chapter" data-level="7.5" data-path="regression-and-visualization.html"><a href="regression-and-visualization.html#exercises-6"><i class="fa fa-check"></i><b>7.5</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="transformation-3.html"><a href="transformation-3.html"><i class="fa fa-check"></i><b>8</b> Transformation 3</a></li>
<li class="chapter" data-level="9" data-path="random-forests.html"><a href="random-forests.html"><i class="fa fa-check"></i><b>9</b> Random Forests</a><ul>
<li class="chapter" data-level="9.1" data-path="random-forests.html"><a href="random-forests.html#slang"><i class="fa fa-check"></i><b>9.1</b> Slang</a></li>
<li class="chapter" data-level="9.2" data-path="random-forests.html"><a href="random-forests.html#the-boston-housing-data-set-again"><i class="fa fa-check"></i><b>9.2</b> The Boston housing data set, again</a></li>
<li class="chapter" data-level="9.3" data-path="random-forests.html"><a href="random-forests.html#prediction-with-ols"><i class="fa fa-check"></i><b>9.3</b> Prediction with OLS</a></li>
<li class="chapter" data-level="9.4" data-path="random-forests.html"><a href="random-forests.html#decision-trees"><i class="fa fa-check"></i><b>9.4</b> Decision Trees</a></li>
<li class="chapter" data-level="9.5" data-path="random-forests.html"><a href="random-forests.html#random-forest"><i class="fa fa-check"></i><b>9.5</b> Random Forest</a><ul>
<li class="chapter" data-level="9.5.1" data-path="random-forests.html"><a href="random-forests.html#using-more-than-one-variable"><i class="fa fa-check"></i><b>9.5.1</b> Using more than one variable</a></li>
<li class="chapter" data-level="9.5.2" data-path="random-forests.html"><a href="random-forests.html#variable-importance"><i class="fa fa-check"></i><b>9.5.2</b> Variable importance</a></li>
<li class="chapter" data-level="9.5.3" data-path="random-forests.html"><a href="random-forests.html#exercises-7"><i class="fa fa-check"></i><b>9.5.3</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="9.6" data-path="random-forests.html"><a href="random-forests.html#classification"><i class="fa fa-check"></i><b>9.6</b> Classification</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="time-series.html"><a href="time-series.html"><i class="fa fa-check"></i><b>10</b> Time Series</a><ul>
<li class="chapter" data-level="10.1" data-path="time-series.html"><a href="time-series.html#time-series-objects"><i class="fa fa-check"></i><b>10.1</b> Time Series Objects</a></li>
<li class="chapter" data-level="10.2" data-path="time-series.html"><a href="time-series.html#economic-time-series"><i class="fa fa-check"></i><b>10.2</b> Economic Time Series</a></li>
<li class="chapter" data-level="10.3" data-path="time-series.html"><a href="time-series.html#financial-time-series"><i class="fa fa-check"></i><b>10.3</b> Financial Time Series</a></li>
<li class="chapter" data-level="10.4" data-path="time-series.html"><a href="time-series.html#automatic-arima-forecasting-with-the-forecast-package"><i class="fa fa-check"></i><b>10.4</b> Automatic ARIMA Forecasting with the ‘forecast’ package</a></li>
<li class="chapter" data-level="10.5" data-path="time-series.html"><a href="time-series.html#seasonal-adjustment"><i class="fa fa-check"></i><b>10.5</b> Seasonal Adjustment</a></li>
<li class="chapter" data-level="10.6" data-path="time-series.html"><a href="time-series.html#forecasting-daily-time-series"><i class="fa fa-check"></i><b>10.6</b> Forecasting daily time series</a></li>
<li class="chapter" data-level="10.7" data-path="time-series.html"><a href="time-series.html#exercises-8"><i class="fa fa-check"></i><b>10.7</b> Exercises</a></li>
<li class="chapter" data-level="10.8" data-path="time-series.html"><a href="time-series.html#from-ts-to-tibble-the-tsbox-package"><i class="fa fa-check"></i><b>10.8</b> From <code>ts</code> to <code>tibble</code>: The tsbox package</a><ul>
<li class="chapter" data-level="10.8.1" data-path="time-series.html"><a href="time-series.html#convert-everything-to-everything"><i class="fa fa-check"></i><b>10.8.1</b> Convert everything to everything</a></li>
<li class="chapter" data-level="10.8.2" data-path="time-series.html"><a href="time-series.html#use-same-functions-for-all-time-series-classes"><i class="fa fa-check"></i><b>10.8.2</b> Use same functions for all time series classes</a></li>
<li class="chapter" data-level="10.8.3" data-path="time-series.html"><a href="time-series.html#combine-multiple-time-series"><i class="fa fa-check"></i><b>10.8.3</b> Combine multiple time series</a></li>
<li class="chapter" data-level="10.8.4" data-path="time-series.html"><a href="time-series.html#frequency-conversion-and-alignment"><i class="fa fa-check"></i><b>10.8.4</b> Frequency conversion and alignment</a></li>
<li class="chapter" data-level="10.8.5" data-path="time-series.html"><a href="time-series.html#shortcuts-for-pivot_wider-and-pivot_longer"><i class="fa fa-check"></i><b>10.8.5</b> Shortcuts for pivot_wider and pivot_longer</a></li>
<li class="chapter" data-level="10.8.6" data-path="time-series.html"><a href="time-series.html#and-plot-just-about-everything"><i class="fa fa-check"></i><b>10.8.6</b> And plot just about everything</a></li>
<li class="chapter" data-level="10.8.7" data-path="time-series.html"><a href="time-series.html#using-tsbox-in-a-dplyr-pipe-workflow"><i class="fa fa-check"></i><b>10.8.7</b> Using tsbox in a dplyr / pipe workflow</a></li>
</ul></li>
<li class="chapter" data-level="10.9" data-path="time-series.html"><a href="time-series.html#exercises-9"><i class="fa fa-check"></i><b>10.9</b> Exercises</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="data-transformation-4.html"><a href="data-transformation-4.html"><i class="fa fa-check"></i><b>11</b> Data Transformation 4</a></li>
<li class="chapter" data-level="12" data-path="shiny.html"><a href="shiny.html"><i class="fa fa-check"></i><b>12</b> Shiny</a><ul>
<li class="chapter" data-level="12.1" data-path="shiny.html"><a href="shiny.html#introduction-1"><i class="fa fa-check"></i><b>12.1</b> Introduction</a></li>
<li class="chapter" data-level="12.2" data-path="shiny.html"><a href="shiny.html#a-first-shiny-app"><i class="fa fa-check"></i><b>12.2</b> A First Shiny App</a><ul>
<li class="chapter" data-level="12.2.1" data-path="shiny.html"><a href="shiny.html#user-interface-ui.r"><i class="fa fa-check"></i><b>12.2.1</b> User Interface <code>ui.R</code></a></li>
<li class="chapter" data-level="12.2.2" data-path="shiny.html"><a href="shiny.html#server-logic-server.r"><i class="fa fa-check"></i><b>12.2.2</b> Server Logic <code>server.R</code></a></li>
<li class="chapter" data-level="12.2.3" data-path="shiny.html"><a href="shiny.html#debugging"><i class="fa fa-check"></i><b>12.2.3</b> Debugging</a></li>
</ul></li>
<li class="chapter" data-level="12.3" data-path="shiny.html"><a href="shiny.html#excercises"><i class="fa fa-check"></i><b>12.3</b> Excercises</a></li>
<li class="chapter" data-level="12.4" data-path="shiny.html"><a href="shiny.html#where-to-go-from-here"><i class="fa fa-check"></i><b>12.4</b> Where to Go From Here</a><ul>
<li class="chapter" data-level="12.4.1" data-path="shiny.html"><a href="shiny.html#more-input-elements"><i class="fa fa-check"></i><b>12.4.1</b> More Input Elements</a></li>
<li class="chapter" data-level="12.4.2" data-path="shiny.html"><a href="shiny.html#more-output-elements"><i class="fa fa-check"></i><b>12.4.2</b> More Output Elements</a></li>
<li class="chapter" data-level="12.4.3" data-path="shiny.html"><a href="shiny.html#more-on-reactivity"><i class="fa fa-check"></i><b>12.4.3</b> More on Reactivity</a></li>
</ul></li>
<li class="chapter" data-level="12.5" data-path="shiny.html"><a href="shiny.html#getting-help"><i class="fa fa-check"></i><b>12.5</b> Getting Help</a></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">7784 Skills: Programming in R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="shiny" class="section level1">
<h1><span class="header-section-number">12</span> Shiny</h1>
<p><a href="12-shiny.R">Download as R script</a></p>
<p><a href="11-shiny.html">Intro Slides</a></p>
<div id="introduction-1" class="section level2">
<h2><span class="header-section-number">12.1</span> Introduction</h2>
<p>Shiny is an R package that makes it easy to build interactive web apps
straight from R.</p>
<p><a href="www.rstudio.com/products/shiny/shiny-user-showcase/">Shiny Showcase</a></p>
<p><a href="https://gallery.shinyapps.io/simple_regression/" class="uri">https://gallery.shinyapps.io/simple_regression/</a></p>
<p><a href="https://gallery.shinyapps.io/premierLeague/" class="uri">https://gallery.shinyapps.io/premierLeague/</a></p>
<p><a href="http://www.dataseries.org" class="uri">http://www.dataseries.org</a></p>
</div>
<div id="a-first-shiny-app" class="section level2">
<h2><span class="header-section-number">12.2</span> A First Shiny App</h2>
<p>Because Shiny is written by the same company as RStudio, it is closely
integrated into the IDE. To start a fresh Shiny app, simply click on the new
document icon and select ‘Shiny Web App’.</p>
<p>You will be greeted by a dialog that allows you to specify a name and a
location. The ‘Application name’ is the name of the directory that will be
created within the specified location. You can also choose if you want to use
multiple files or a single file. Choose ‘Multiple Files’.</p>
<p>RStudio will add a small template application to the specified folder. Click
‘run App’ to see what it does: It plots a histogram of <code>faithful$eruptions</code>,
and allows the user to control the number of bins in the histogram.</p>
<div id="user-interface-ui.r" class="section level3">
<h3><span class="header-section-number">12.2.1</span> User Interface <code>ui.R</code></h3>
<p>Let’s see how it works. The Shiny app consists of two R files, <code>ui.R</code> and
<code>server.R</code>. <code>ui.R</code> describes the user interface. Basically, it contains R
functions that write HTML. You can verify by running the code of <code>ui.R</code> in
the console: It writes the HTML that describes the user interface.</p>
<p>Let’s focus on the only input element, <code>sliderInput</code>. It describes the slider
you saw in the app. The first argument, <code>inputId</code>, is the most important one.
Through this ID, the shiny server recognizes the elements in the user
interface, so it is important that the ID matches the corresponding ID in
<code>server.R</code>. We will discuss that in a second.</p>
<p>The other arguments of <code>sliderInput</code> are straightforward: A label, two values
specifying the range of the slider, and a default value which is shown on
startup. Try modifying these values to see what happens in the app.</p>
<p>There is a single output element, <code>plotOutput</code>, which draws the histogram
plot. Again, the first argument is an ID, <code>outputId</code>, which must match the
corresponding value in <code>server.R</code>. There are a bunch of additional arguments
to <code>plotOutput</code>, but we will not discuss them here. See <code>?plotOutput</code>.</p>
</div>
<div id="server-logic-server.r" class="section level3">
<h3><span class="header-section-number">12.2.2</span> Server Logic <code>server.R</code></h3>
<p>The second file, <code>server.R</code>, tells the server how inputs should be translated
into R calculations, and how the result of R calculations should be
translated into outputs.</p>
<p>Check out the <code>input$bins</code> element, which is part of the <code>input</code> list, which
is one of the two required objects in the server function, <code>shinyServer</code>.
<code>input$bins</code> contains the value that the user has entered in the user
interface, using the same ID, <code>bins</code>, which we have specified in <code>ui.R</code>.</p>
<p>The input is used to perform some R calculations. Here, we are using it to
calculate the ‘breaks’ of the bins in the histogram. As this is normal R
code, you can also run it in the R console, e.g.,</p>
<div class="sourceCode" id="cb476"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb476-1" data-line-number="1">x &lt;-<span class="st"> </span>faithful[, <span class="dv">2</span>]</a>
<a class="sourceLine" id="cb476-2" data-line-number="2">bins &lt;-<span class="st"> </span><span class="kw">seq</span>(<span class="kw">min</span>(x), <span class="kw">max</span>(x), <span class="dt">length.out =</span> <span class="dv">3</span> <span class="op">+</span><span class="st"> </span><span class="dv">1</span>)</a></code></pre></div>
<p>Having calculated the bin breaks, we are using these values to produce a
histogram, using the <code>breaks</code> argument of the <code>hist()</code> function. In pure R:</p>
<div class="sourceCode" id="cb477"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb477-1" data-line-number="1"><span class="kw">hist</span>(x, <span class="dt">breaks =</span> bins, <span class="dt">col =</span> <span class="st">&#39;darkgray&#39;</span>, <span class="dt">border =</span> <span class="st">&#39;white&#39;</span>)</a></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-187-1.png" width="672" /></p>
<p>The Shiny function <code>renderPlot</code> captures the plot and prepares it fo display
in the user interface. Note that the result of <code>renderPlot</code> is assigned to
the <code>output$distPlot</code> element of the <code>output</code> list, which is the second
required argument of the <code>shinyServer</code> function. As for the input, the name
of the element needs to match the name of the ID in <code>ui.R</code>.</p>
<p>A central concept in shiny Apps is the concept of reactivity. If <code>input$bins</code>
is changed by the user, all the calculations that depend on it are
recalculated.</p>
<p>To recap, the main steps of building the server logic are:</p>
<ol style="list-style-type: decimal">
<li><p>Save objects to display to output$</p></li>
<li><p>Build objects to display with render*()</p></li>
<li><p>Access input values with input$</p></li>
</ol>
</div>
<div id="debugging" class="section level3">
<h3><span class="header-section-number">12.2.3</span> Debugging</h3>
<p>As you will see in the next exercise, debugging is one of the main challenges
when we write shiny applications. There are two simple ways to figure out
what is going on when things do not behave as we want. The most useful is
simply to add <code>print</code> statements to <code>server.R</code>. This way, the value of
variable will be printed to the R console after each evaluation.</p>
<p>Another useful command is the <code>browser()</code> statement, which works as in
standard R. It stops the execution of the program at the statement, so can
investigate the values of the variables.</p>
<p>As a preliminary exercise, add a print statement to <code>server.R</code> of the demo
app that prints the value of <code>bins</code> to the console. Run the app and see how
it reacts on changes in the input.</p>
</div>
</div>
<div id="excercises" class="section level2">
<h2><span class="header-section-number">12.3</span> Excercises</h2>
<ol style="list-style-type: decimal">
<li>Modify the shiny example app to include the following scatterplot:</li>
</ol>
<div class="sourceCode" id="cb478"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb478-1" data-line-number="1"><span class="kw">library</span>(tidyverse)</a>
<a class="sourceLine" id="cb478-2" data-line-number="2">boston &lt;-<span class="st"> </span><span class="kw">as_tibble</span>(MASS<span class="op">::</span>Boston)</a>
<a class="sourceLine" id="cb478-3" data-line-number="3"></a>
<a class="sourceLine" id="cb478-4" data-line-number="4">boston <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb478-5" data-line-number="5"><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x =</span> lstat, <span class="dt">y =</span> medv)) <span class="op">+</span></a>
<a class="sourceLine" id="cb478-6" data-line-number="6"><span class="st">  </span><span class="kw">geom_point</span>()</a></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-188-1.png" width="672" /></p>
<ol start="2" style="list-style-type: decimal">
<li>Add a selector to <code>ui.R</code>, where you can select the column names. Store the selected column name under id <code>cname</code>.</li>
</ol>
<div class="sourceCode" id="cb479"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb479-1" data-line-number="1"><span class="kw">names</span>(boston)</a></code></pre></div>
<pre><code>##  [1] &quot;crim&quot;    &quot;zn&quot;      &quot;indus&quot;   &quot;chas&quot;    &quot;nox&quot;     &quot;rm&quot;      &quot;age&quot;    
##  [8] &quot;dis&quot;     &quot;rad&quot;     &quot;tax&quot;     &quot;ptratio&quot; &quot;black&quot;   &quot;lstat&quot;   &quot;medv&quot;</code></pre>
<ol start="3" style="list-style-type: decimal">
<li>Use <code>input$cname</code> to select the column name from the ui.</li>
</ol>
<div class="sourceCode" id="cb481"><pre class="sourceCode r"><code class="sourceCode r"><a class="sourceLine" id="cb481-1" data-line-number="1">myvar &lt;-<span class="st"> &quot;medv&quot;</span></a>
<a class="sourceLine" id="cb481-2" data-line-number="2">boston <span class="op">%&gt;%</span></a>
<a class="sourceLine" id="cb481-3" data-line-number="3"><span class="st">  </span><span class="kw">ggplot</span>(<span class="kw">aes</span>(<span class="dt">x =</span> lstat, <span class="dt">y =</span> <span class="op">!!</span><span class="st"> </span><span class="kw">sym</span>(myvar))) <span class="op">+</span></a>
<a class="sourceLine" id="cb481-4" data-line-number="4"><span class="st">  </span><span class="kw">geom_point</span>()</a></code></pre></div>
<p><img src="_main_files/figure-html/unnamed-chunk-190-1.png" width="672" /></p>
</div>
<div id="where-to-go-from-here" class="section level2">
<h2><span class="header-section-number">12.4</span> Where to Go From Here</h2>
<div id="more-input-elements" class="section level3">
<h3><span class="header-section-number">12.4.1</span> More Input Elements</h3>
<p>There are a couple of additional input elements in Shiny, see the
corresponding help pages to see how they work.</p>
<ul>
<li><code>actionButton</code></li>
<li><code>checkboxGroupInput</code></li>
<li><code>dateInput</code></li>
<li><code>dateRangeInput</code></li>
<li><code>fileInput</code></li>
<li><code>numericInput</code></li>
<li><code>passwordInput</code></li>
<li><code>radioButtons</code></li>
<li><code>selectInput</code></li>
<li><code>sliderInput</code></li>
<li><code>submitButton</code></li>
<li><code>textAreaInput</code></li>
<li><code>textInput</code></li>
</ul>
</div>
<div id="more-output-elements" class="section level3">
<h3><span class="header-section-number">12.4.2</span> More Output Elements</h3>
<p>Each <code>render</code> function has a corresponding <code>Output</code> function.</p>
<table>
<thead>
<tr class="header">
<th><code>server.R</code></th>
<th><code>ui.R</code></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>renderDataTable</code></td>
<td><code>dataTableOutput</code></td>
</tr>
<tr class="even">
<td><code>renderImage</code></td>
<td><code>imageOutput</code></td>
</tr>
<tr class="odd">
<td><code>renderPlot</code></td>
<td><code>plotOutput</code></td>
</tr>
<tr class="even">
<td><code>renderPrint</code></td>
<td><code>verbatimTextOutput</code></td>
</tr>
<tr class="odd">
<td><code>renderTable</code></td>
<td><code>tableOutput</code></td>
</tr>
<tr class="even">
<td><code>renderText</code></td>
<td><code>textOutput</code></td>
</tr>
<tr class="odd">
<td><code>renderText</code></td>
<td><code>textOutput</code></td>
</tr>
<tr class="even">
<td><code>renderUI</code></td>
<td><code>uiOuptut, htmlOutput</code></td>
</tr>
</tbody>
</table>
</div>
<div id="more-on-reactivity" class="section level3">
<h3><span class="header-section-number">12.4.3</span> More on Reactivity</h3>
<ul>
<li><p>The <code>reactive()</code> function allow you to define reactive expressions. These
are useful if you need the result of your calculations for several outputs.</p></li>
<li><p>The <code>observe()</code> function, together with ‘reactiveValues’ serves a similar
purpose, but it is recommended to use <code>reactive()</code> unless you have good
reason not to.</p></li>
<li><p><code>isolate()</code> allows you to read an input value without triggering a reaction.</p></li>
<li><p>which is often useful with <code>actionButton</code>. If you have time consuming
calculations, you don’t want to run them each time a user is changing
inputs. So you can add an <code>actionButton</code> to <code>ui.R</code>, and put all the other
inputs in an <code>isolate()</code>. That way, only clicking the button will trigger
the calculation.</p></li>
</ul>
</div>
</div>
<div id="getting-help" class="section level2">
<h2><span class="header-section-number">12.5</span> Getting Help</h2>
<ul>
<li><p><a href="http://shiny.rstudio.com/images/shiny-cheatsheet.pdf">Shiny Cheat Sheet</a></p></li>
<li><p><a href="http://shiny.rstudio.com/tutorial/">Shiny Video Tutorials</a></p></li>
</ul>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="data-transformation-4.html" class="navigation navigation-prev navigation-unique" aria-label="Previous page"><i class="fa fa-angle-left"></i></a>

    </div>
  </div>
<script src="book_assets/gitbook-2.6.7/js/app.min.js"></script>
<script src="book_assets/gitbook-2.6.7/js/lunr.js"></script>
<script src="book_assets/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="book_assets/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="book_assets/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="book_assets/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="book_assets/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="book_assets/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="book_assets/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": null,
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
